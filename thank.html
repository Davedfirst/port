<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XI PORTFOLIO- CONTACT FORM</title>
<link rel="stylesheet" href="style.css">
     <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="mail.js"></script>
    <style>
        .body{
            background-color:yellow-green;
            opacity: 50%
        }
    </style>
</head>
<body>
   <section class="contact">
      <div class="container">
          <h2 class="h2" id="contact">Send Message</h2>
          <div class="contact-content">
              <div class="contact-textbox">
    <form action="/send_email" method="post" class="contact-form">
      <div class="form-field">
          <label for="name">Name</label>
          <input type="text" name="name" id="name" required />
      </div>
      <div class="form-field">
          <label for="email">Email</label>
          <input
          type="email"
          name="email"
          id="email"
          required
          inputmode="email"
          />
      </div>
      <div class="form-field">
          <label for="message">How can I help you?</label>
          <textarea name="message" id="message" required></textarea>
      </div>
      <button type="submit" class="btn btn-cta">Send</button>
  </form>
</div>
</div>
</section>
<footer class="footer">
  <div class="container">
      <div class="footer-content">
          <!-- Update href and src attributes -->
          <nav>
              <ol class="footer-links">
                  <li class="footer-link">
                      <a title="GitHub" href="http://github.com/Davedfirst" target="_blank" rel="noopener"
                          ><img
                              loading="lazy"
                              src="assets/images/social-links/github.svg"
                              alt="GitHub"
                      /></a>
                  </li>
                  <li class="footer-link">
                      <a title="Codepen" href="https://github.com/devsyedmohsin" target="_blank" rel="noopener"
                          ><img
                              loading="lazy"
                              src="assets/images/social-links/codepen.svg"
                              alt="Codepen"
                      /></a>
                  </li>
                  <li class="footer-link">
                      <a title="Linkedin" href="https://www.linkedin.com/in/davidfolaranmi" target="_blank" rel="noopener"
                          ><img
                              loading="lazy"
                              src="assets/images/social-links/linkedin.svg"
                              alt="Linkedin"
                      /></a>
                  </li>
                  <li class="footer-link">
                      <a title="Twitter" href="https://github.com/devsyedmohsin" target="_blank" rel="noopener"
                          ><img
                              loading="lazy"
                              src="assets/images/social-links/twitter.svg"
                              alt="Twitter"
                      /></a>
                  </li>
              </ol>
          </nav>
          <p class="footer-text">
              &copy; <span>2024</span> - designed & developed by <a target="_blank" rel="noopener" href="https://xidresources.vercel.app">XID RESOURCES.</a>
          </p>
      </div>
  </div>
</footer>
    <script>
        $(document).ready(function() {
            $('#contact-form').submit(function(event) {
                // Prevent the form from submitting normally
                event.preventDefault();
                
                // Serialize form data into JSON
                var formData = $(this).serializeArray();
                var jsonData = {};
                formData.forEach(function(field) {
                    jsonData[field.name] = field.value;
                });

                // Send AJAX request to Flask backend
                $.ajax({
                    type: 'POST',
                    url: '/send_email',
                    contentType: 'application/json',
                    data: JSON.stringify(jsonData),
                    success: function(response) {
                        alert(response.message); // Show success message
                    },
                    error: function(xhr, status, error) {
                        console.error('Error:', error);
                        alert('Failed to send email.');
                    }
                });
            });
        });
    </script>
</body>
</html>
